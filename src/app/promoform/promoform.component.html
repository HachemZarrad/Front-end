<mat-toolbar color="primary">
  New Promotion
<span class="flex-spacer"></span>
<button mat-button mat-dialog-close (click) = 'refresh()'>&times;</button>
</mat-toolbar>

<div *ngIf="errMess" style="color: red;">
<h2>Error</h2>
<h4>{{errMess}}</h4>
</div>

<p>
    <input *ngIf = "!promoAdded" type="file" name="image" (change)="upload($event)"/>
</p>

<h1 *ngIf = "promoAdded">promo added successfully</h1>

<form novalidate  #promoForm="ngForm"  *ngIf = "!promoAdded">
  
  <mat-dialog-content>
    <p>
      <mat-form-field>
        <input matInput placeholder=" name"  [(ngModel)]="promo.name" name="name"  #name="ngModel" required>
        <mat-error *ngIf="name.errors?.required">promo name is required</mat-error>
      </mat-form-field>
    </p>
    
    <p>
      <mat-form-field>
        <input matInput placeholder="label"  [(ngModel)]="promo.label" name="label" #label="ngModel">
      </mat-form-field>
    </p>
    <p>
      <mat-form-field>
        <input matInput placeholder="price"  [(ngModel)]="promo.price" name="label" #price="ngModel" required>
        <mat-error *ngIf="price.errors?.required">price is required</mat-error>
      </mat-form-field>
    </p>
    <p>
      <mat-checkbox [(ngModel)]="promo.featured" name="featured">Featured promo</mat-checkbox>
    </p>
    <p>
      <mat-form-field class="full-width">
        <textarea matInput placeholder="description"  [(ngModel)]="promo.description" name="description" #description="ngModel" required rows=12></textarea>
        <mat-error *ngIf="description.errors?.required">description is required</mat-error>
      </mat-form-field>
    </p>
  </mat-dialog-content>
  
  <mat-dialog-actions>
    <button type="submit" mat-button class="background-primary text-floral-white" [disabled]="promoForm.form.invalid" (click) = "addPromo(promo)" routerLink = '/promoManagement'>Add Promotion </button>
  </mat-dialog-actions>
  </form>

